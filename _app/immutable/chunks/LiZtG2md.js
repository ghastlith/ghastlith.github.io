import{aq as X,j as W,r as Z,V as G,u as ee,ar as M,q as R,x as u,w as p,a2 as y,as as k,b as te,A as se,C as re,at as H,t as c,s as J,Q as F,o as O,y as ie,au as B,av as ne,aw as L,ax as ae,ay as he,ae as j,ad as q,az as P,aA as fe,af as oe,c as K,P as de,n as S,F as w,M as _e,D as le,aB as b,E as ce,aC as ue,aD as pe,aE as ge,aF as x,aj as ve,aG as Q,H as ye,aH as me,aI as I,G as E,aJ as be,aK as Ee,aL as Te,aM as Re,p as we,aN as De,aO as Ae,a as Ne}from"./DMw7iV73.js";import{a as Fe,r as V,h as $,i as Oe}from"./djEXkjMh.js";import{b as Se}from"./6d1mmO9B.js";function xe(i){let e=0,t=G(0),r;return()=>{X()&&(W(t),Z(()=>(e===0&&(r=ee(()=>i(()=>M(t)))),e+=1,()=>{R(()=>{e-=1,e===0&&(r?.(),r=void 0,M(t))})})))}}var Ie=ce|ue;function Ye(i,e,t,r){new Ce(i,e,t,r)}class Ce{parent;is_pending=!1;transform_error;#t;#g=p?u:null;#i;#o;#e;#n=null;#s=null;#r=null;#a=null;#d=0;#f=0;#_=!1;#l=new Set;#c=new Set;#h=null;#m=xe(()=>(this.#h=G(this.#d),()=>{this.#h=null}));constructor(e,t,r,f){this.#t=e,this.#i=t,this.#o=s=>{var n=y;n.b=this,n.f|=k,r(s)},this.parent=y.b,this.transform_error=f??this.parent?.transform_error??(s=>s),this.#e=te(()=>{if(p){const s=this.#g;se();const n=s.data===re;if(s.data.startsWith(H)){const a=JSON.parse(s.data.slice(H.length));this.#E(a)}else n?this.#T():this.#b()}else this.#v()},Ie),p&&(this.#t=u)}#b(){try{this.#n=c(()=>this.#o(this.#t))}catch(e){this.error(e)}}#E(e){const t=this.#i.failed;t&&(this.#r=c(()=>{t(this.#t,()=>e,()=>()=>{})}))}#T(){const e=this.#i.pending;e&&(this.is_pending=!0,this.#s=c(()=>e(this.#t)),R(()=>{var t=this.#a=document.createDocumentFragment(),r=J();t.append(r),this.#n=this.#p(()=>(F.ensure(),c(()=>this.#o(r)))),this.#f===0&&(this.#t.before(t),this.#a=null,O(this.#s,()=>{this.#s=null}),this.#u())}))}#v(){try{if(this.is_pending=this.has_pending_snippet(),this.#f=0,this.#d=0,this.#n=c(()=>{this.#o(this.#t)}),this.#f>0){var e=this.#a=document.createDocumentFragment();ie(this.#n,e);const t=this.#i.pending;this.#s=c(()=>t(this.#t))}else this.#u()}catch(t){this.error(t)}}#u(){this.is_pending=!1;for(const e of this.#l)B(e,ne),L(e);for(const e of this.#c)B(e,ae),L(e);this.#l.clear(),this.#c.clear()}defer_effect(e){he(e,this.#l,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#p(e){var t=y,r=oe,f=K;j(this.#e),q(this.#e),P(this.#e.ctx);try{return e()}catch(s){return fe(s),null}finally{j(t),q(r),P(f)}}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#f+=e,this.#f===0&&(this.#u(),this.#s&&O(this.#s,()=>{this.#s=null}),this.#a&&(this.#t.before(this.#a),this.#a=null))}update_pending_count(e){this.#y(e),this.#d+=e,!(!this.#h||this.#_)&&(this.#_=!0,R(()=>{this.#_=!1,this.#h&&de(this.#h,this.#d)}))}get_effect_pending(){return this.#m(),W(this.#h)}error(e){var t=this.#i.onerror;let r=this.#i.failed;if(!t&&!r)throw e;this.#n&&(S(this.#n),this.#n=null),this.#s&&(S(this.#s),this.#s=null),this.#r&&(S(this.#r),this.#r=null),p&&(w(this.#g),_e(),w(le()));var f=!1,s=!1;const n=()=>{if(f){ge();return}f=!0,s&&pe(),this.#r!==null&&O(this.#r,()=>{this.#r=null}),this.#p(()=>{F.ensure(),this.#v()})},l=a=>{try{s=!0,t?.(a,n),s=!1}catch(h){b(h,this.#e&&this.#e.parent)}r&&(this.#r=this.#p(()=>{F.ensure();try{return c(()=>{var h=y;h.b=this,h.f|=k,r(this.#t,()=>a,()=>n)})}catch(h){return b(h,this.#e.parent),null}}))};R(()=>{var a;try{a=this.transform_error(e)}catch(h){b(h,this.#e&&this.#e.parent);return}a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(l,h=>b(h,this.#e&&this.#e.parent)):l(a)})}}let z=!0;function Le(i,e){var t=e==null?"":typeof e=="object"?`${e}`:e;t!==(i.__t??=i.nodeValue)&&(i.__t=t,i.nodeValue=`${t}`)}function Me(i,e){return U(i,e)}function je(i,e){x(),e.intro=e.intro??!1;const t=e.target,r=p,f=u;try{for(var s=ve(t);s&&(s.nodeType!==Q||s.data!==ye);)s=me(s);if(!s)throw I;E(!0),w(s);const n=U(i,{...e,anchor:s});return E(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw n;return n!==I&&console.warn("Failed to hydrate: ",n),e.recover===!1&&be(),x(),Ee(t),E(!1),Me(i,e)}finally{E(r),w(f)}}const T=new Map;function U(i,{target:e,anchor:t,props:r={},events:f,context:s,intro:n=!0,transformError:l}){x();var a=void 0,h=Te(()=>{var m=t??e.appendChild(J());Ye(m,{pending:()=>{}},o=>{we({});var d=K;if(s&&(d.c=s),f&&(r.$$events=f),p&&Se(o,null),z=n,a=i(o,r)||{},z=!0,p&&(y.nodes.end=u,u===null||u.nodeType!==Q||u.data!==De))throw Ae(),I;Ne()},l);var D=new Set,A=o=>{for(var d=0;d<o.length;d++){var _=o[d];if(!D.has(_)){D.add(_);var v=Oe(_);for(const N of[e,document]){var g=T.get(N);g===void 0&&(g=new Map,T.set(N,g));var C=g.get(_);C===void 0?(N.addEventListener(_,$,{passive:v}),g.set(_,1)):g.set(_,C+1)}}}};return A(Re(Fe)),V.add(A),()=>{for(var o of D)for(const v of[e,document]){var d=T.get(v),_=d.get(o);--_==0?(v.removeEventListener(o,$),d.delete(o),d.size===0&&T.delete(v)):d.set(o,_)}V.delete(A),m!==t&&m.parentNode?.removeChild(m)}});return Y.set(a,h),a}let Y=new WeakMap;function qe(i,e){const t=Y.get(i);return t?(Y.delete(i),t(e)):Promise.resolve()}export{z as a,je as h,Me as m,Le as s,qe as u};
